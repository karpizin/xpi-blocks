# –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π –≤ —Ä–æ–µ XPI

## üéØ –ó–∞–¥–∞—á–∞
–û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–∏—è (–∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞) –º–µ–∂–¥—É –≤—Å–µ–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Ä–æ—è –ø–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–º –≤–æ–ø—Ä–æ—Å–∞–º (—Å–º–µ–Ω–∞ —Ä–µ–∂–∏–º–∞ –º–∏—Å—Å–∏–∏, –≤—ã–±–æ—Ä –ª–∏–¥–µ—Ä–∞, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–ª–∏) –≤ —É—Å–ª–æ–≤–∏—è—Ö –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–≤—è–∑–∏.

---

## üèé –í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º: Weighted Voting (–í–∑–≤–µ—à–µ–Ω–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ)

–î–ª—è Meshtastic (LoRa) –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è —Å —É—á–µ—Ç–æ–º ¬´–≤–µ—Å–∞¬ª (—É—Ä–æ–≤–Ω—è –∑–∞—Ä—è–¥–∞ –±–∞—Ç–∞—Ä–µ–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≤—è–∑–∏) –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞.

### –ü—Ä–∏–Ω—Ü–∏–ø—ã:
1.  **Proposal (–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ):** –õ—é–±–æ–π —É–∑–µ–ª –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–∏–≤ –ø–∞–∫–µ—Ç `type: "proposal"`.
2.  **Observation (–ù–∞–±–ª—é–¥–µ–Ω–∏–µ):** –£–∑–ª—ã —Å–ª—É—à–∞—é—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç –∏—Ö —Å–æ —Å–≤–æ–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.
3.  **Vote (–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ):** –£–∑–µ–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–µ ¬´–º–Ω–µ–Ω–∏–µ¬ª –∏–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.
4.  **Consensus Threshold:** –†–µ—à–µ–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–Ω—è—Ç—ã–º, –µ—Å–ª–∏ –∑–∞ –Ω–µ–≥–æ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª–æ > 50% –∞–∫—Ç–∏–≤–Ω—ã—Ö —É–∑–ª–æ–≤ (–∫–≤–æ—Ä—É–º).

---

## üõ† –¢–∏–ø—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º—ã—Ö —Ä–µ—à–µ–Ω–∏–π

### 1. Mission State (–°–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Å—Å–∏–∏)
*   –ü—Ä–∏–º–µ—Ä: –ü–µ—Ä–µ—Ö–æ–¥ –∏–∑ —Ä–µ–∂–∏–º–∞ "Search" –≤ —Ä–µ–∂–∏–º "Rescue".
*   –õ–æ–≥–∏–∫–∞: –ï—Å–ª–∏ 3+ –¥—Ä–æ–Ω–∞ —É–≤–∏–¥–µ–ª–∏ –æ–±—ä–µ–∫—Ç, —Ä–æ–π –≥–æ–ª–æ—Å—É–µ—Ç –∑–∞ —Å–º–µ–Ω—É –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

### 2. Leader Election (–í—ã–±–æ—Ä—ã –ª–∏–¥–µ—Ä–∞)
*   –ü—Ä–∏–º–µ—Ä: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ –¥–ª—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –±–∞–∑—É.
*   –ö—Ä–∏—Ç–µ—Ä–∏–∏: –í—ã–±–∏—Ä–∞–µ—Ç—Å—è —É–∑–µ–ª —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∑–∞—Ä—è–¥–æ–º –±–∞—Ç–∞—Ä–µ–∏ –∏ –ª—É—á—à–∏–º SNR –¥–æ –±–∞–∑—ã.

### 3. Waypoint Agreement (–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Ü–µ–ª–∏)
*   –ü—Ä–∏–º–µ—Ä: –í—ã–±–æ—Ä —Ç–æ—á–∫–∏ —Å–±–æ—Ä–∞.
*   –õ–æ–≥–∏–∫–∞: –£–∑–ª—ã —É—Å—Ä–µ–¥–Ω—è—é—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä –º–∞—Å—Å –≥—Ä—É–ø–ø—ã.

---

## üì¶ –§–æ—Ä–º–∞—Ç –ø–∞–∫–µ—Ç–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è (JSON)

```json
{
  "type": "consensus",
  "topic": "mission_mode",
  "proposal_id": "req_12345",
  "value": "RESCUE",
  "node_weight": 0.85,
  "signature": "..." 
}
```

---

## üöÄ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ XPI

–ú–æ–¥—É–ª—å `ConsensusEngine` –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–¥ `MeshtasticDriver`.
–û–Ω —Ö—Ä–∞–Ω–∏—Ç —Ç–∞–±–ª–∏—Ü—É —Ç–µ–∫—É—â–∏—Ö –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–π (`Voting Table`) –∏ –≤—ã–¥–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `consensus_reached`, –∫–æ–≥–¥–∞ –ø–æ—Ä–æ–≥ –ø—Ä–æ–π–¥–µ–Ω.
