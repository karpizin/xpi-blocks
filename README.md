# XPI-Blocks: Modular ROS2 Robotics Library

`xpi-blocks` ‚Äî —ç—Ç–æ –æ—Ç–∫—Ä—ã—Ç–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–æ–¥—É–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∏ –Ω–∞ –±–∞–∑–µ **ROS2 Humble**, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è Raspberry Pi. –ü—Ä–æ–µ–∫—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥—Ä–∞–π–≤–µ—Ä—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ò–ò (LLM/VLM).

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **80+ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤**: –°–µ–Ω—Å–æ—Ä—ã (Lidar, IMU, Env), –ê–∫—Ç—É–∞—Ç–æ—Ä—ã (Servos, Motors), –î–∏—Å–ø–ª–µ–∏ –∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Å–≤—è–∑–∏.
*   **Hexapod Master**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –¥–ª—è —à–µ—Å—Ç–∏–Ω–æ–≥–∏—Ö —Ä–æ–±–æ—Ç–æ–≤ (IK, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –ø–æ—Ö–æ–¥–æ–∫ Tripod/Wave/Ripple, Gazebo-—Å–∏–º—É–ª—è—Ü–∏—è).
*   **AI Integration**: –ü–∞–∫–µ—Ç `xpi_llm` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º —á–µ—Ä–µ–∑ –≥–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã.
*   **USIS (Universal Status Indication System)**: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–Ω–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ä–æ–±–æ—Ç–∞.
*   **Hardware Abstraction Layer (HAL)**: –ï–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è –¥—Ä–∞–π–≤–µ—Ä–æ–≤ –Ω–∞ –±–∞–∑–µ `gpiozero` –∏ `smbus2`.

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

*   **`src/`**: –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ ROS2 –ø–∞–∫–µ—Ç–æ–≤, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (actuators, sensors, vision –∏ —Ç.–¥.).
*   **`blocks/`**: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, —Å—Ö–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è.
*   **`projects/`**: –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (Hexapod, Weather Station, Swarm Net).
*   **`docs/`**: –ì–ª—É–±–æ–∫–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (LIDAR, AI).

## üì¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —á–µ—Ä–µ–∑ Docker

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –≤–∏–¥–µ –≥–æ—Ç–æ–≤–æ–≥–æ Docker-–æ–±—Ä–∞–∑–∞, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t xpi-blocks .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ I2C/GPIO
docker run -it --privileged --network host xpi-blocks
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Mock-–æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

```bash
colcon test --packages-select xpi_sensors
colcon test-result --verbose
```

## üõ† –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

*   **OS**: Ubuntu 22.04 LTS / Raspberry Pi OS (64-bit).
*   **ROS2**: Humble Hawksbill (LTS).
*   **Python**: 3.10+.

## ü§ù –ö–æ–Ω—Ç–∞–∫—Ç—ã
–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: Viacheslav Karpizin (viacheslav.karpizin@gmail.com)