# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Meshtastic –≤ XPI-Blocks

## üéØ –¶–µ–ª—å
–û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é, –∞–≤—Ç–æ–Ω–æ–º–Ω—É—é —Å–≤—è–∑—å –¥–ª—è –≥—Ä—É–ø–ø —Ä–æ–±–æ—Ç–æ–≤ (drone swarms) –∏ IoT-—É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —É—Å–ª–æ–≤–∏—è—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (Wi-Fi/GSM), –∏—Å–ø–æ–ª—å–∑—É—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é LoRa Mesh.

---

## üì° –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è: Meshtastic
**Meshtastic** ‚Äî —ç—Ç–æ open-source –ø—Ä–æ–µ–∫—Ç, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π LoRa-—Ä–∞–¥–∏–æ–º–æ–¥—É–ª–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è mesh-—Å–µ—Ç–∏.
*   **–ü—Ä–∏–Ω—Ü–∏–ø:** –ö–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ‚Äî —Ä–µ—Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä.
*   **–î–∞–ª—å–Ω–æ—Å—Ç—å:** 1-5 –∫–º (–≥–æ—Ä–æ–¥), –¥–æ 50+ –∫–º (LOS, –≤–æ–∑–¥—É—Ö-–∑–µ–º–ª—è).
*   **–¢–æ–ø–æ–ª–æ–≥–∏—è:** Mesh (—è—á–µ–∏—Å—Ç–∞—è). –ù–µ—Ç –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –æ—Ç–∫–∞–∑–∞.
*   **–î–∞–Ω–Ω—ã–µ:** –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è, –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è.

---

## üõ† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ë–ª–æ–∫–∞: `meshtastic_driver`

–ú—ã —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –¥—Ä–∞–π–≤–µ—Ä –≤ `blocks/drivers/meshtastic`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—Å—Ç—É–ø–∞–µ—Ç –º–æ—Å—Ç–æ–º –º–µ–∂–¥—É "–∂–µ–ª–µ–∑–æ–º" (LoRa-–º–æ–¥–µ–º) –∏ —à–∏–Ω–æ–π —Å–æ–±—ã—Ç–∏–π XPI.

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
1.  **Transport Layer:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ USB (Serial), TCP/IP (Wi-Fi) –∏ BLE.
2.  **Messaging:**
    *   `broadcast(data)`: –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —Ä–æ—è.
    *   `send_direct(node_id, data)`: –ê–¥—Ä–µ—Å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –¥—Ä–æ–Ω—É.
3.  **Telemetry:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ —Å—Ç–∞—Ç—É—Å–∞ –≤ Mesh.
4.  **Discovery:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É–∑–ª–æ–≤ (Nodes) —Å –∫–∞—á–µ—Å—Ç–≤–æ–º —Å–≤—è–∑–∏ (SNR).

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (API)

–ë–ª–æ–∫ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –∏ —Å–æ–±—ã—Ç–∏—è:

**Methods:**
*   `connect(interface: str, address: str)`
*   `send_text(text: str, channel: int = 0)`
*   `send_data(payload: bytes, port_num: int)`

**Events (Output):**
*   `meshtastic.message`: –ü—Ä–∏—à–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ç–µ–∫—Å—Ç/–¥–∞–Ω–Ω—ã–µ).
*   `meshtastic.node_update`: –û–±–Ω–æ–≤–∏–ª—Å—è —Å—Ç–∞—Ç—É—Å —É–∑–ª–∞ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –±–∞—Ç–∞—Ä–µ—è).
*   `meshtastic.connection_lost`: –ü–æ—Ç–µ—Ä—è —Å–≤—è–∑–∏ —Å —Ä–∞–¥–∏–æ–º–æ–¥—É–ª–µ–º.

---

## ‚öôÔ∏è –ñ–µ–ª–µ–∑–æ (Reference Hardware)

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–æ—è –¥—Ä–æ–Ω–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –º–æ–¥—É–ª–∏:

1.  **Heltec V3 (ESP32 + SX1262):** –û—Ç–ª–∏—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –Ω–∞–∑–µ–º–Ω—ã—Ö —Å—Ç–∞–Ω—Ü–∏–π –∏ –æ—Ç–ª–∞–¥–∫–∏ (–µ—Å—Ç—å OLED —ç–∫—Ä–∞–Ω).
2.  **RAK Wireless (WisBlock RAK4631):** –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç. –≠–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π (nRF52840), –º–æ–¥—É–ª—å–Ω—ã–π. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ –¥—Ä–æ–Ω.
3.  **LilyGO T-Beam:** –í–∞—Ä–∏–∞–Ω—Ç "–≤—Å–µ –≤ –æ–¥–Ω–æ–º" —Å GPS –∏ –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–º 18650 (—Ç—è–∂–µ–ª–æ–≤–∞—Ç –¥–ª—è –º–µ–ª–∫–∏—Ö –¥—Ä–æ–Ω–æ–≤).

**–ß–∞—Å—Ç–æ—Ç—ã:**
*   868 MHz (EU/RU)
*   915 MHz (US)
*   433 MHz (Old standard)

---

## üì¶ –ü–ª–∞–Ω –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1.  **–ü—Ä–æ—Ç–æ—Ç–∏–ø:** Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –∏ —á—Ç–µ–Ω–∏—è –ª–æ–≥–∞.
2.  **–î—Ä–∞–π–≤–µ—Ä XPI:** –û–±–µ—Ä—Ç–∫–∞ `meshtastic-python` –≤ –∫–ª–∞—Å—Å `Block`.
3.  **Swarm Protocol:** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Ä–æ—è (—Ñ–æ—Ä–º–∞—Ç –ø–∞–∫–µ—Ç–æ–≤: ID, Lat, Lon, Alt, Status).
4.  **–°–∏–º—É–ª—è—Ü–∏—è:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –±–µ–∑ –∂–µ–ª–µ–∑–∞ (Mock Hardware).
